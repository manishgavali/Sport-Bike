{% extends 'base.html' %}

{% block title %}Register - Smart Sport Bike Ecosystem{% endblock %}

{% block content %}
<div class="register-advanced-wrapper">
    <div class="register-container">
        <!-- Left Side - Visual Section -->
        <div class="register-visual-section">
            <div class="visual-content">
                <div class="brand-logo">
                    <div class="logo-icon">üèçÔ∏è</div>
                    <h2>Smart Sport Bike</h2>
                </div>
                
                <div class="visual-features">
                    <div class="feature-item">
                        <div class="feature-icon">üéØ</div>
                        <h3>Track Performance</h3>
                        <p>Monitor your riding stats in real-time</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üîß</div>
                        <h3>Smart Maintenance</h3>
                        <p>AI-powered maintenance predictions</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üí∞</div>
                        <h3>Cost Calculator</h3>
                        <p>Calculate ownership costs accurately</p>
                    </div>
                </div>
                
                <div class="visual-stats">
                    <div class="stat-card">
                        <div class="stat-number">5000+</div>
                        <div class="stat-label">Active Riders</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">200+</div>
                        <div class="stat-label">Bike Models</div>
                    </div>
                </div>
            </div>
            
            <!-- Animated Background Elements -->
            <div class="floating-elements">
                <div class="float-circle" style="top: 10%; left: 10%; width: 60px; height: 60px; animation-delay: 0s;"></div>
                <div class="float-circle" style="top: 60%; left: 80%; width: 40px; height: 40px; animation-delay: 2s;"></div>
                <div class="float-circle" style="top: 80%; left: 20%; width: 50px; height: 50px; animation-delay: 4s;"></div>
            </div>
        </div>
        
        <!-- Right Side - Form Section -->
        <div class="register-form-section">
            <div class="form-content">
                <div class="form-header">
                    <h1>Create Account</h1>
                    <p>Join thousands of riders worldwide</p>
                </div>
                
                <!-- Social Registration -->
                <div class="social-register">
                    <button type="button" class="social-btn facebook-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                        </svg>
                        Facebook
                    </button>
                    <button type="button" class="social-btn google-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Google
                    </button>
                </div>
                
                <div class="divider">
                    <span>or register with email</span>
                </div>
                
                <!-- Registration Form -->
                <form method="POST" action="{{ url_for('auth.register') }}" id="registerForm" class="advanced-form">
                    <div class="form-row">
                        <div class="input-group">
                            <input type="text" name="full_name" id="full_name" class="modern-input" placeholder=" " required>
                            <label for="full_name" class="floating-label">Full Name</label>
                            <div class="input-icon">üë§</div>
                        </div>
                        
                        <div class="input-group">
                            <input type="text" name="username" id="username" class="modern-input" placeholder=" " required>
                            <label for="username" class="floating-label">Username</label>
                            <div class="input-icon">‚ú®</div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <input type="email" name="email" id="email" class="modern-input" placeholder=" " required>
                        <label for="email" class="floating-label">Email Address</label>
                        <div class="input-icon">üìß</div>
                    </div>
                    
                    <div class="input-group">
                        <input type="password" name="password" id="password" class="modern-input" placeholder=" " required>
                        <label for="password" class="floating-label">Password</label>
                        <div class="input-icon">üîí</div>
                        <div class="password-strength">
                            <div class="strength-bar">
                                <div class="strength-fill"></div>
                            </div>
                            <span class="strength-text">Weak</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <input type="password" name="confirm_password" id="confirm_password" class="modern-input" placeholder=" " required>
                        <label for="confirm_password" class="floating-label">Confirm Password</label>
                        <div class="input-icon">üîê</div>
                    </div>
                    
                    <div class="input-group">
                        <select name="riding_experience" id="riding_experience" class="modern-select" required>
                            <option value="">Select Experience</option>
                            <option value="beginner">üå± Beginner - Just Starting</option>
                            <option value="intermediate">‚ö° Intermediate - Few Years</option>
                            <option value="expert">üèÜ Expert - Professional Level</option>
                        </select>
                        <label for="riding_experience" class="floating-label select-label">Riding Experience</label>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <span>Create My Account</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                </form>
                
                <div class="form-footer">
                    Already have an account? <a href="{{ url_for('auth.login') }}" class="login-link">Sign In</a>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Override body for auth pages */
    body {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }
    
    .register-advanced-wrapper {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #0a0e27 0%, #1a1034 50%, #0f1419 100%);
        padding: 0;
        position: relative;
        overflow: hidden;
    }
    
    .register-advanced-wrapper::before {
        content: '';
        position: absolute;
        width: 500px;
        height: 500px;
        background: radial-gradient(circle, rgba(139, 92, 246, 0.15) 0%, transparent 70%);
        border-radius: 50%;
        top: -200px;
        right: -200px;
        animation: pulse 8s ease-in-out infinite;
    }
    
    .register-advanced-wrapper::after {
        content: '';
        position: absolute;
        width: 400px;
        height: 400px;
        background: radial-gradient(circle, rgba(236, 72, 153, 0.15) 0%, transparent 70%);
        border-radius: 50%;
        bottom: -150px;
        left: -150px;
        animation: pulse 10s ease-in-out infinite;
    }
    
    @keyframes pulse {
        0%, 100% { transform: scale(1); opacity: 0.5; }
        50% { transform: scale(1.2); opacity: 0.8; }
    }
    
    .register-container {
        display: flex;
        width: 95%;
        max-width: 1400px;
        min-height: 85vh;
        background: rgba(15, 20, 35, 0.7);
        backdrop-filter: blur(20px);
        border-radius: 30px;
        overflow: hidden;
        box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6),
                    inset 0 0 0 1px rgba(139, 92, 246, 0.2);
        position: relative;
        z-index: 1;
    }
    
    /* Left Visual Section */
    .register-visual-section {
        flex: 1;
        background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(236, 72, 153, 0.15) 100%);
        padding: 3rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
        position: relative;
        overflow: hidden;
    }
    
    .register-visual-section::before {
        content: '';
        position: absolute;
        inset: 0;
        background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse"><path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(139,92,246,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
        opacity: 0.3;
    }
    
    .visual-content {
        position: relative;
        z-index: 1;
    }
    
    .brand-logo {
        text-align: center;
        margin-bottom: 3rem;
    }
    
    .logo-icon {
        font-size: 4rem;
        margin-bottom: 1rem;
        animation: bikeFloat 3s ease-in-out infinite;
    }
    
    @keyframes bikeFloat {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    .brand-logo h2 {
        font-size: 2rem;
        font-weight: 800;
        background: linear-gradient(135deg, #ec4899, #8b5cf6, #3b82f6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        letter-spacing: -1px;
    }
    
    .visual-features {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        margin-bottom: 3rem;
    }
    
    .feature-item {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(139, 92, 246, 0.2);
        border-radius: 15px;
        padding: 1.5rem;
        transition: all 0.3s ease;
    }
    
    .feature-item:hover {
        transform: translateX(10px);
        background: rgba(255, 255, 255, 0.08);
        border-color: rgba(139, 92, 246, 0.4);
    }
    
    .feature-icon {
        font-size: 2rem;
        margin-bottom: 0.5rem;
    }
    
    .feature-item h3 {
        color: #fff;
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    
    .feature-item p {
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.9rem;
        margin: 0;
    }
    
    .visual-stats {
        display: flex;
        gap: 1.5rem;
        justify-content: center;
    }
    
    .stat-card {
        flex: 1;
        background: rgba(139, 92, 246, 0.1);
        border: 2px solid rgba(139, 92, 246, 0.3);
        border-radius: 15px;
        padding: 1.5rem;
        text-align: center;
    }
    
    .stat-number {
        font-size: 2rem;
        font-weight: 800;
        background: linear-gradient(135deg, #ec4899, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 0.5rem;
    }
    
    .stat-label {
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.9rem;
    }
    
    .floating-elements .float-circle {
        position: absolute;
        background: radial-gradient(circle, rgba(236, 72, 153, 0.3) 0%, transparent 70%);
        border-radius: 50%;
        animation: floatAnimation 6s ease-in-out infinite;
    }
    
    @keyframes floatAnimation {
        0%, 100% { transform: translate(0, 0) scale(1); }
        25% { transform: translate(20px, -30px) scale(1.1); }
        50% { transform: translate(-15px, -50px) scale(0.9); }
        75% { transform: translate(30px, -20px) scale(1.05); }
    }
    
    /* Right Form Section */
    .register-form-section {
        flex: 1;
        padding: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(10, 14, 26, 0.9);
        overflow-y: auto;
    }
    
    .form-content {
        width: 100%;
        max-width: 500px;
    }
    
    .form-header {
        text-align: center;
        margin-bottom: 2rem;
    }
    
    .form-header h1 {
        font-size: 2.5rem;
        font-weight: 800;
        background: linear-gradient(135deg, #ec4899, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 0.5rem;
        letter-spacing: -1px;
    }
    
    .form-header p {
        color: rgba(255, 255, 255, 0.6);
        font-size: 1rem;
    }
    
    /* Social Buttons */
    .social-register {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1.5rem;
    }
    
    .social-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.875rem;
        border: 2px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.05);
        color: #fff;
        font-weight: 600;
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .social-btn:hover {
        transform: translateY(-2px);
        border-color: rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.08);
    }
    
    .facebook-btn:hover {
        border-color: #4267B2;
        box-shadow: 0 5px 20px rgba(66, 103, 178, 0.3);
    }
    
    .google-btn:hover {
        border-color: #4285F4;
        box-shadow: 0 5px 20px rgba(66, 133, 244, 0.3);
    }
    
    .divider {
        text-align: center;
        margin: 2rem 0;
        position: relative;
    }
    
    .divider::before,
    .divider::after {
        content: '';
        position: absolute;
        top: 50%;
        width: 42%;
        height: 1px;
        background: rgba(255, 255, 255, 0.1);
    }
    
    .divider::before { left: 0; }
    .divider::after { right: 0; }
    
    .divider span {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.85rem;
        background: rgba(10, 14, 26, 0.9);
        padding: 0 1rem;
        position: relative;
    }
    
    /* Advanced Form */
    .advanced-form {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }
    
    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }
    
    .input-group {
        position: relative;
    }
    
    .modern-input,
    .modern-select {
        width: 100%;
        padding: 1rem 1rem 1rem 3rem;
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid rgba(139, 92, 246, 0.2);
        border-radius: 12px;
        color: #fff;
        font-size: 1rem;
        transition: all 0.3s ease;
        outline: none;
    }
    
    .modern-input:focus,
    .modern-select:focus {
        border-color: #8b5cf6;
        background: rgba(255, 255, 255, 0.08);
        box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.1);
    }
    
    .modern-input::placeholder {
        color: transparent;
    }
    
    .floating-label {
        position: absolute;
        left: 3rem;
        top: 50%;
        transform: translateY(-50%);
        color: rgba(255, 255, 255, 0.5);
        font-size: 1rem;
        pointer-events: none;
        transition: all 0.3s ease;
    }
    
    .modern-input:focus + .floating-label,
    .modern-input:not(:placeholder-shown) + .floating-label {
        top: -10px;
        left: 0.75rem;
        font-size: 0.75rem;
        color: #8b5cf6;
        background: rgba(10, 14, 26, 0.9);
        padding: 0 0.5rem;
    }
    
    .select-label {
        top: -10px;
        left: 0.75rem;
        font-size: 0.75rem;
        color: #8b5cf6;
        background: rgba(10, 14, 26, 0.9);
        padding: 0 0.5rem;
    }
    
    .input-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        pointer-events: none;
    }
    
    /* Password Strength */
    .password-strength {
        margin-top: 0.5rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }
    
    .strength-bar {
        flex: 1;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
        overflow: hidden;
    }
    
    .strength-fill {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, #ef4444, #f59e0b, #10b981);
        transition: width 0.3s ease;
    }
    
    .strength-text {
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.75rem;
        font-weight: 600;
        min-width: 60px;
    }
    
    /* Submit Button */
    .submit-btn {
        width: 100%;
        padding: 1.1rem;
        background: linear-gradient(135deg, #ec4899, #8b5cf6);
        border: none;
        border-radius: 12px;
        color: white;
        font-size: 1.05rem;
        font-weight: 700;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        transition: all 0.3s ease;
        box-shadow: 0 10px 30px rgba(236, 72, 153, 0.4);
        margin-top: 0.5rem;
    }
    
    .submit-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 40px rgba(236, 72, 153, 0.6);
    }
    
    .submit-btn svg {
        transition: transform 0.3s ease;
    }
    
    .submit-btn:hover svg {
        transform: translateX(5px);
    }
    
    /* Form Footer */
    .form-footer {
        text-align: center;
        margin-top: 1.5rem;
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.95rem;
    }
    
    .login-link {
        color: #ec4899;
        text-decoration: none;
        font-weight: 600;
        transition: color 0.3s ease;
    }
    
    .login-link:hover {
        color: #8b5cf6;
        text-decoration: underline;
    }
    
    /* Responsive Design */
    @media (max-width: 1024px) {
        .register-container {
            flex-direction: column;
            min-height: auto;
        }
        
        .register-visual-section {
            min-height: 300px;
            padding: 2rem;
        }
        
        .visual-features {
            display: none;
        }
        
        .form-row {
            grid-template-columns: 1fr;
        }
    }
    
    @media (max-width: 768px) {
        .register-container {
            width: 100%;
            border-radius: 0;
            min-height: 100vh;
        }
        
        .register-visual-section {
            display: none;
        }
        
        .register-form-section {
            padding: 1.5rem;
        }
        
        .form-header h1 {
            font-size: 2rem;
        }
        
        .social-register {
            grid-template-columns: 1fr;
        }
    }
</style>

<script>
    // Form Validation
    document.getElementById('registerForm').addEventListener('submit', function(e) {
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm_password').value;
        
        if (password !== confirmPassword) {
            e.preventDefault();
            alert('Passwords do not match!');
        }
    });
    
    // Password Strength Indicator
    document.getElementById('password').addEventListener('input', function(e) {
        const password = e.target.value;
        const strengthFill = document.querySelector('.strength-fill');
        const strengthText = document.querySelector('.strength-text');
        
        let strength = 0;
        
        if (password.length >= 8) strength += 25;
        if (password.match(/[a-z]/)) strength += 25;
        if (password.match(/[A-Z]/)) strength += 25;
        if (password.match(/[0-9]/)) strength += 15;
        if (password.match(/[^a-zA-Z0-9]/)) strength += 10;
        
        strengthFill.style.width = strength + '%';
        
        if (strength < 40) {
            strengthText.textContent = 'Weak';
            strengthText.style.color = '#ef4444';
        } else if (strength < 70) {
            strengthText.textContent = 'Medium';
            strengthText.style.color = '#f59e0b';
        } else {
            strengthText.textContent = 'Strong';
            strengthText.style.color = '#10b981';
        }
    });
    
    // Social Login Handlers
    document.querySelector('.facebook-btn').addEventListener('click', function() {
        alert('Facebook login will be implemented soon!');
    });
    
    document.querySelector('.google-btn').addEventListener('click', function() {
        alert('Google login will be implemented soon!');
    });
</script>
{% endblock %}
